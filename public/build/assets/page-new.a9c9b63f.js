import{_,h as y,i as v,j as w,o as D,c as x,b as c,w as a,v as n,a as e,e as p,t as i,q as r,n as h,u,r as f}from"./app.c6c6a3cb.js";import{Q as $}from"./vue-quill.esm-bundler.7c8d11ac.js";/* empty css                       *//* empty css                                                         */const E={emits:["loadingHide","loading"],props:{loading:Boolean,user:Object},components:{"header-admin":y(()=>v(()=>import("./header-admin.6f180bbb.js"),["assets/header-admin.6f180bbb.js","assets/app.c6c6a3cb.js","assets/app.c39a63c1.css"])),QuillEditor:$},data(){return{error:!1,page:{type:"page",slug:"",status:"draft",image:"",fa:{title:"",body:"",seoDescription:""},en:{title:"",body:"",seoDescription:""}}}},methods:{onChangeImage(){this.page.image=this.$refs.image.files[0]},savePage(){if(this.page.slug!=""){this.$emit("loading"),this.error=!1,this.page.fa.body=this.$refs.myEditorFa.getHTML(),this.page.en.body=this.$refs.myEditorEn.getHTML();let t=new FormData;t.append("api_token",this.$cookies.get("user").token),t.append("type",this.page.type),t.append("slug",this.page.slug),t.append("status",this.page.status),t.append("images",this.page.image),t.append("title_fa",this.page.fa.title),t.append("title_en",this.page.en.title),t.append("body_fa",this.page.fa.body),t.append("body_en",this.page.en.body),t.append("description_fa",this.page.fa.seoDescription),t.append("description_en",this.page.en.seoDescription),w.post("/page/create",t,{headers:{"Content-Type":"multipart/form-data"}}).then(s=>{s.data.status==200&&(this.$router.push({name:"adminPages"}),this.$emit("loadingHide"))}).catch(s=>{console.log("error",s),this.$emit("loadingHide")})}else this.error=!0}},created(){this.$emit("loadingHide")},name:"App",watch:{$route:{immediate:!0,handler(t,s){document.title=this.$t("add")+" "+this.$t("page")+" | "+this.$t("adminTitlePage")}}}},V={class:"content"},k={class:"alert alert-outline-danger alert-dismissible show flex items-center col-span-12 bg-white mt-2 font-bold",role:"alert"},C=e("i",{"data-feather":"alert-octagon",class:"w-6 h-6 ml-2"},null,-1),U={class:"pos intro-y grid grid-cols-12 gap-5 mt-5"},T={class:"intro-y col-span-12 lg:col-span-9"},j={class:"alert alert-outline-danger alert-dismissible show flex items-center col-span-12 mb-4 bg-white",role:"alert"},H=e("i",{"data-feather":"alert-octagon",class:"w-6 h-6 ml-2"},null,-1),P={class:"box p-2"},N={class:"input-group intro-y"},B=["placeholder"],I={id:"input-group-price",class:"input-group-text pb-0",dir:"ltr"},M={class:"post intro-y overflow-hidden box mt-5"},Q={class:"post__tabs nav nav-tabs flex-col sm:flex-row bg-gray-300 dark:bg-dark-2 text-gray-600",role:"tablist"},A=["title"],F=e("i",{class:"fi fi-ir ml-2"},null,-1),L=["title"],S=e("i",{class:"fi fi-us ml-2"},null,-1),O={class:"post__content tab-content"},q={id:"content",class:"tab-pane p-5 active",role:"tabpanel"},z=["placeholder"],R=e("hr",{class:"my-4"},null,-1),G={for:"desc"},J=["placeholder"],K={id:"meta-title",role:"tabpanel",class:"tab-pane p-5"},W=["placeholder"],X=e("hr",{class:"my-4"},null,-1),Y={for:"desc"},Z=["placeholder"],ee={class:"intro-y col-span-12 lg:col-span-3 text-left"},te={class:"box p-2 text-right"},se={class:"bg-light-2 p-2 font-bold rounded mb-2"},oe={value:"page"},le={value:"b2bplus"},ie={value:"draft"},ae={value:"publish"},ne={class:"box p-2 text-right mt-6"},re={class:"bg-light-2 p-2 font-bold rounded mb-2"};function pe(t,s,d,de,o,g){const b=f("header-admin"),m=f("QuillEditor");return D(),x("div",V,[c(b,{user:d.user,title:t.$t("add")+" "+t.$t("page")},null,8,["user","title"]),a(e("div",k,[C,p(" "+i(t.$t("access-message")),1)],512),[[n,!d.user.role.page.add]]),a(e("div",U,[e("div",T,[a(e("div",j,[H,p(" "+i(t.$t("error-empty-page-fields")),1)],512),[[n,o.error]]),e("div",P,[e("div",N,[a(e("input",{dir:"ltr",id:"slug",type:"text",class:"form-control text-left",placeholder:t.$t("page-slug"),"onUpdate:modelValue":s[0]||(s[0]=l=>o.page.slug=l)},null,8,B),[[r,o.page.slug]]),e("div",I,i(t.$hostname+"{language}/"+o.page.type),1)])]),e("div",M,[e("div",Q,[e("a",{title:t.$t("body"),"data-toggle":"tab","data-target":"#content",href:"javascript:;",class:"tooltip w-full sm:w-40 py-4 text-center flex justify-center items-center active",id:"content-tab",role:"tab"},[F,p(" "+i(t.$t("persian")),1)],8,A),e("a",{title:t.$t("seo-tools"),"data-toggle":"tab","data-target":"#meta-title",href:"javascript:;",class:"tooltip w-full sm:w-40 py-4 text-center flex justify-center items-center",id:"meta-title-tab",role:"tab"},[S,p(" "+i(t.$t("english")),1)],8,L)]),e("div",O,[e("div",q,[a(e("input",{type:"text",class:"form-control py-3 px-4 placeholder-theme-8 mb-4",placeholder:t.$t("title"),"onUpdate:modelValue":s[1]||(s[1]=l=>o.page.fa.title=l)},null,8,z),[[r,o.page.fa.title]]),c(m,{content:o.page.fa.body,"onUpdate:content":s[2]||(s[2]=l=>o.page.fa.body=l),theme:"snow",toolbar:"full",ref:"myEditorFa"},null,8,["content"]),R,e("label",G,i(t.$t("descriptions")+" "+t.$t("seo")),1),e("span",{class:h(["mx-2 px-2 rounded-full bg-theme-21 text-xs text-white",o.page.fa.seoDescription.length<160?"bg-theme-":"bg-theme-20"])},i(o.page.fa.seoDescription.length),3),a(e("textarea",{id:"desc",class:"form-control mt-3",rows:"3",placeholder:t.$t("descriptions")+" "+t.$t("seo"),"onUpdate:modelValue":s[3]||(s[3]=l=>o.page.fa.seoDescription=l),maxlength:"170"},`\r
                            `,8,J),[[r,o.page.fa.seoDescription]])]),e("div",K,[a(e("input",{type:"text",class:"form-control py-3 px-4 placeholder-theme-8 mb-4",placeholder:t.$t("title"),"onUpdate:modelValue":s[4]||(s[4]=l=>o.page.en.title=l)},null,8,W),[[r,o.page.en.title]]),c(m,{content:o.page.en.body,"onUpdate:content":s[5]||(s[5]=l=>o.page.en.body=l),theme:"snow",toolbar:"full",ref:"myEditorEn"},null,8,["content"]),X,e("label",Y,i(t.$t("descriptions")+" "+t.$t("seo")),1),e("span",{class:h(["mx-2 px-2 rounded-full bg-theme-21 text-xs text-white",o.page.en.seoDescription.length<160?"bg-theme-":"bg-theme-20"])},i(o.page.en.seoDescription.length),3),a(e("textarea",{id:"desc",class:"form-control mt-3",rows:"3",placeholder:t.$t("descriptions")+" "+t.$t("seo"),"onUpdate:modelValue":s[6]||(s[6]=l=>o.page.en.seoDescription=l),maxlength:"170"},`\r
                            `,8,Z),[[r,o.page.en.seoDescription]])])])])]),e("div",ee,[e("button",{class:h(["btn mb-4 btn-lg border-0",o.page.status=="publish"?"btn-green":"btn-dark"]),onClick:s[7]||(s[7]=l=>g.savePage())},[a(e("span",null,i(t.$t("save")+" "+t.$t("draft")),513),[[n,o.page.status=="draft"]]),a(e("span",null,i(t.$t("public")),513),[[n,o.page.status=="publish"]])],2),e("div",te,[e("p",se,i(t.$t("setting")),1),a(e("select",{id:"lang",class:"form-control mt-2","onUpdate:modelValue":s[8]||(s[8]=l=>o.page.type=l)},[e("option",oe,i(t.$t("page")),1),e("option",le,i(t.$t("b2b-plus")),1)],512),[[u,o.page.type]]),a(e("select",{id:"lang",class:"form-control mt-2","onUpdate:modelValue":s[9]||(s[9]=l=>o.page.status=l)},[e("option",ie,i(t.$t("draft")),1),e("option",ae,i(t.$t("publish")),1)],512),[[u,o.page.status]])]),e("div",ne,[e("p",re,i(t.$t("post-image")),1),e("input",{type:"file",ref:"image",onChange:s[10]||(s[10]=(...l)=>g.onChangeImage&&g.onChangeImage(...l))},null,544)])])],512),[[n,d.user.role.page.add]])])}const ue=_(E,[["render",pe]]);export{ue as default};
