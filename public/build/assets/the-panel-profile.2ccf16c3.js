import{_ as v,h as f,i as b,j as u,o as P,c as j,b as c,w as n,v as a,a as s,t as i,e as l,d as m,n as x,x as _,q as h,F as C,r as w}from"./app.c6c6a3cb.js";const L={props:{site:Object,user:Object},components:{siteHeader:f(()=>b(()=>import("./site-header.7b088332.js"),["assets/site-header.7b088332.js","assets/app.c6c6a3cb.js","assets/app.c39a63c1.css","assets/site-header.1dc29b9e.css"])),panelSideBar:f(()=>b(()=>import("./side-bar-panel.a242bfef.js"),["assets/side-bar-panel.a242bfef.js","assets/app.c6c6a3cb.js","assets/app.c39a63c1.css"]))},emits:["getUser"],data(){return{language:this.$route.params.lang,show:"one",isLoading:!1,setting:{postemail:!1,advsms:!1},password:"",newPassword:"",repeatPassword:"",status:"one",load:!0}},methods:{loading(){this.load=!1},updateSetting(){this.isLoading=!0;const t={api_token:this.$cookies.get("user").token,id:this.$cookies.get("user").id,setting:this.setting};u.post("/notification/setting",t).then(o=>{this.isLoading=!1}).catch(()=>{this.isLoading=!1})},checkPassword(){this.isLoading=!0;const t={api_token:this.$cookies.get("user").token,id:this.$cookies.get("user").id,password:this.password};u.post("/user/check",t).then(o=>{o.data.status=="ok"?this.status="tow":this.status="three",this.password="",this.isLoading=!1}).catch(()=>{this.isLoading=!1})},changePassword(){if(this.newPassword==this.repeatPassword){this.isLoading=!0;const t={api_token:this.$cookies.get("user").token,id:this.$cookies.get("user").id,password:this.newPassword};u.post("/user/changepassword",t).then(o=>{o.data.status=="ok"?(this.status="five",this.newPassword="",this.repeatPassword=""):this.status="four",this.isLoading=!1}).catch(()=>{this.isLoading=!1})}else this.status="four"}},async beforeCreate(){await u.get("/notification/get",{params:{api_token:this.$cookies.get("user").token,id:this.$cookies.get("user").id}}).then(t=>{this.setting.postemail=t.data.postemail,this.setting.advsms=t.data.advsms}).catch(()=>{}),document.title=this.$t("profile-setting",this.language)+" | "+this.site.title,this.loading()}},V={class:"h-screen w-screen fixed flex items-center justify-center !z-50"},B=s("section",{class:"w-[200px] h-[100px] bg-dark-primary-trans p-5 rounded-2xl flex justify-center items-center blur-panel"},[s("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})])],-1),z=[B],D={class:"flex"},S={class:"bg-dark-primary md:w-2/6 xl:w-1/6 min-h-[calc(100vh-140px)] hidden md:flex flex-wrap content-between"},U={class:"w-full mx-7 md:w-4/6 xl:w-5/6"},A={class:"text-white px-6 py-2 mb-4 bg-red-500 md:flex justify-between items-center rounded-lg mt-2"},E={class:"flex items-center"},H=s("span",{class:"hidden md:flex text-xl mr-5 items-center"},[s("i",{class:"fe fe-compass"})],-1),O={class:"inline-block align-middle mr-2 md:mr-8 text-justify"},T={class:"capitalize"},F={class:"text-white px-6 py-2 mb-4 bg-red-500 md:flex justify-between items-center rounded-lg mt-2"},M={class:"flex items-center"},N=s("span",{class:"hidden md:flex text-xl mr-5 items-center"},[s("i",{class:"fe fe-compass"})],-1),I={class:"inline-block align-middle mr-2 md:mr-8 text-justify"},R={class:"capitalize"},q={class:"text-white px-6 py-2 mb-4 bg-red-500 md:flex justify-between items-center rounded-lg mt-2"},G={class:"flex items-center"},J=s("span",{class:"hidden md:flex text-xl mr-5 items-center"},[s("i",{class:"fe fe-compass"})],-1),K={class:"inline-block align-middle mr-2 md:mr-8 text-justify"},Q={class:"capitalize"},W={class:"my-4 border-b-2"},X={class:"px-2"},Y={class:"text-justify"},Z={for:"email"},$={class:"text-justify"},ee={for:"phone"},se={class:"px-2"},te=["disabled"],oe={class:"mt-2"},ie=["disabled"];function ne(t,o,d,re,e,p){const k=w("siteHeader"),y=w("panelSideBar"),g=w("router-link");return P(),j(C,null,[c(k,{site:d.site,user:d.user,show:e.load},null,8,["site","user","show"]),n(s("div",V,z,512),[[a,e.isLoading]]),s("section",D,[s("aside",S,[c(y,{site:d.site,user:d.user},null,8,["site","user"])]),s("div",U,[n(s("section",A,[s("div",E,[H,s("span",O,[s("b",T,i(t.$t("step",e.language))+" (1/3) :",1),l(" "+i(t.$t("step-one",e.language)),1)])]),c(g,{to:{name:"sitePanelCompany"},class:"rounded-lg animate-bounce bg-red-700 p-2 flex items-center justify-center text-center mt-2 md:mt-0"},{default:m(()=>[l(i(t.$t("company-step",e.language)),1)]),_:1})],512),[[a,d.user.step=="one"]]),n(s("section",F,[s("div",M,[N,s("span",I,[s("b",R,i(t.$t("step",e.language))+" (2/3) :",1),l(" "+i(t.$t("step-tow",e.language)),1)])]),c(g,{to:{name:"sitePanelAds"},class:"rounded-lg animate-bounce bg-red-700 p-2 flex items-center justify-center text-center mt-2 md:mt-0"},{default:m(()=>[l(i(t.$t("ad-step",e.language)),1)]),_:1})],512),[[a,d.user.step=="tow"]]),n(s("section",q,[s("div",G,[J,s("span",K,[s("b",Q,i(t.$t("step",e.language))+" (3/3) :",1),l(" "+i(t.$t("step-three",e.language)),1)])]),c(g,{to:{name:"siteFeedBack"},class:"rounded-lg animate-bounce bg-red-700 p-2 flex items-center justify-center text-center mt-2 md:mt-0"},{default:m(()=>[l(i(t.$t("feed-step",e.language)),1)]),_:1})],512),[[a,d.user.step=="three"]]),s("div",W,[s("button",{onClick:o[0]||(o[0]=r=>e.show="one"),class:x(["mx-2 pb-4 font-bold",e.show=="one"?"border-b-2 border-dark-primary":""])},i(t.$t("notificate-setting",e.language)),3),s("button",{class:x([e.show=="tow"?"border-b-2 border-dark-primary":"","mx-2 pb-4 font-bold"]),onClick:o[1]||(o[1]=r=>e.show="tow")},i(t.$t("change-password",e.language)),3)]),n(s("div",X,[s("div",Y,[n(s("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>e.setting.postemail=r),type:"checkbox",class:"mx-2 accent-dark-primary",id:"email"},null,512),[[_,e.setting.postemail]]),s("label",Z,i(t.$t("email-notificate",e.language)),1)]),s("div",$,[n(s("input",{"onUpdate:modelValue":o[3]||(o[3]=r=>e.setting.advsms=r),type:"checkbox",class:"mx-2 accent-dark-primary",id:"phone"},null,512),[[_,e.setting.advsms]]),s("label",ee,i(t.$t("phone-notificate",e.language)),1)]),s("button",{onClick:o[4]||(o[4]=r=>p.updateSetting()),class:"my-4 block bg-dark-primary text-white py-2 px-3 rounded-lg duration-300"},i(t.$t("ok",e.language)),1)],512),[[a,e.show=="one"]]),n(s("div",se,[n(s("div",null,[n(s("div",{class:"text-green-700 mb-2"},i(t.$t("changed-password",e.language)),513),[[a,e.status=="five"]]),l(" "+i(t.$t("current-password",e.language))+": ",1),n(s("input",{dir:"ltr","onUpdate:modelValue":o[5]||(o[5]=r=>e.password=r),type:"password",class:"w-full md:w-1/2 border border-slate-300 rounded-lg p-2 focus:outline-none focus:ring focus:ring-gray-300 p-3 text-gray-400"},null,512),[[h,e.password]]),s("button",{onClick:o[6]||(o[6]=r=>p.checkPassword()),disabled:e.password=="",class:"my-4 block bg-dark-primary text-white py-2 px-3 rounded-lg duration-300"},i(t.$t("check",e.language)),9,te),n(s("span",{class:"text-red-700"},i(t.$t("wrong-password",e.language)),513),[[a,e.status=="three"]])],512),[[a,e.status=="one"||e.status=="three"||e.status=="five"]]),n(s("div",null,[s("div",null,[l(i(t.$t("new-password",e.language))+": ",1),n(s("input",{dir:"ltr","onUpdate:modelValue":o[7]||(o[7]=r=>e.newPassword=r),type:"password",class:"border border-slate-300 rounded-lg p-2 focus:outline-none focus:ring focus:ring-gray-300 p-3 text-gray-400"},null,512),[[h,e.newPassword]])]),s("div",oe,[l(i(t.$t("repeat-password",e.language))+": ",1),n(s("input",{dir:"ltr","onUpdate:modelValue":o[8]||(o[8]=r=>e.repeatPassword=r),type:"password",class:"border border-slate-300 rounded-lg p-2 focus:outline-none focus:ring focus:ring-gray-300 p-3 text-gray-400"},null,512),[[h,e.repeatPassword]])]),s("button",{onClick:o[9]||(o[9]=r=>p.changePassword()),disabled:e.newPassword==""||e.repeatPassword=="",class:"my-4 block bg-dark-primary text-white py-2 px-3 rounded-lg duration-300"},i(t.$t("edit",e.language)),9,ie),n(s("span",{class:"text-red-700"},i(t.$t("password-wrong",e.language)),513),[[a,e.status=="four"]])],512),[[a,e.status=="tow"||e.status=="four"]])],512),[[a,e.show=="tow"]])])])],64)}const le=v(L,[["render",ne]]);export{le as default};
