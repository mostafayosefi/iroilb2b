import{_ as C,h as V,i as D,j as k,o as U,c as E,b as h,d as u,w as r,v as _,a as e,e as f,t as o,n as w,q as c,r as b,u as x}from"./app.c6c6a3cb.js";/* empty css                       */import{d as j}from"./vuedraggable.umd.16f25545.js";import{Q as H}from"./vue-quill.esm-bundler.7c8d11ac.js";let m=0;const T={emits:["loadingHide","loading"],props:{loading:Boolean,user:Object},components:{"header-admin":V(()=>D(()=>import("./header-admin.6f180bbb.js"),["assets/header-admin.6f180bbb.js","assets/app.c6c6a3cb.js","assets/app.c39a63c1.css"])),draggable:j,QuillEditor:H},data(){return{error:!1,page:{id:3,image:"",text:{fa:"",en:""},element:{fa:[],en:[]},seoDescription:{fa:"",en:""}}}},methods:{removeAt(t,n){n=="fa"&&this.page.element.fa.splice(t,1),n=="en"&&this.page.element.en.splice(t,1)},add:function(t){t=="fa"&&this.page.element.fa.push({icon:"adress",text:"",color:"",link:"",id:m}),t=="en"&&(this.page.element.en.push({icon:"adress",text:"",color:"",link:"",id:m}),m++)},onChangeImage(){this.page.image=this.$refs.image.files[0]},updatePage(){this.$emit("loading");const t={body:this.$refs.myEditorFa.getHTML(),element:this.page.element.fa},n={body:this.$refs.myEditorEn.getHTML(),element:this.page.element.en};let l=new FormData;l.append("api_token",this.$cookies.get("user").token),l.append("id",this.page.id),l.append("images",this.page.image),l.append("body_fa",JSON.stringify(t)),l.append("body_en",JSON.stringify(n)),l.append("description_fa",this.page.seoDescription.fa),l.append("description_en",this.page.seoDescription.en),k.post("/page/special/update",l,{headers:{"Content-Type":"multipart/form-data"}}).then(d=>{d.data.status==200&&(this.$router.push({name:"adminPages"}),this.$emit("loadingHide"))}).catch(d=>{this.$emit("loadingHide")})}},created(){k.get("/page/special/"+this.page.id,{params:{api_token:this.$cookies.get("user").token}}).then(t=>{this.page.id=t.data.data.id;const n=JSON.parse(t.data.data.bodyFa),l=JSON.parse(t.data.data.bodyEn);this.$refs.myEditorFa.setHTML(n.body),this.$refs.myEditorEn.setHTML(l.body),t.data.data.images&&(this.page.image=this.$hostname+"upload/page/"+t.data.data.images),this.page.seoDescription.fa=t.data.data.seoDescriptionFa,this.page.seoDescription.en=t.data.data.seoDescriptionEn;for(const d of n.element)this.page.element.fa.push({icon:d.icon,color:d.color,link:d.link,text:d.text,id:d.id});for(const d of l.element)this.page.element.en.push({icon:d.icon,color:d.color,link:d.link,text:d.text,id:d.id}),m++;this.$emit("loadingHide")}).catch(t=>{this.$emit("loadingHide")})},name:"App",watch:{$route:{immediate:!0,handler(t,n){document.title=this.$t("edit")+" "+this.$t("page")+" "+this.$t("contact")+" | "+this.$t("adminTitlePage")}}}},B={class:"content"},F={class:"alert alert-outline-danger alert-dismissible show flex items-center col-span-12 bg-white mt-2 font-bold",role:"alert"},N=e("i",{"data-feather":"alert-octagon",class:"w-6 h-6 ml-2"},null,-1),S={class:"pos intro-y grid grid-cols-12 gap-5 mt-5"},A={class:"intro-y col-span-12 lg:col-span-9"},M={class:"post intro-y overflow-hidden box mt-5"},O={class:"post__tabs nav nav-tabs flex-col sm:flex-row bg-gray-300 dark:bg-dark-2 text-gray-600",role:"tablist"},P=["title"],L=e("i",{class:"fi fi-ir ml-2"},null,-1),I=["title"],J=e("i",{class:"fi fi-us ml-2"},null,-1),Q={class:"post__content tab-content"},q={id:"content",class:"tab-pane p-5 active",role:"tabpanel"},z=e("hr",{class:"my-4"},null,-1),R={for:"desc"},G=["placeholder"],K=e("hr",{class:"my-4"},null,-1),W={class:"bg-white mt-1 p-3 rounded"},X={class:"flex content-between"},Y=e("i",{class:"cursor-pointer handle"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-align-justify block mx-auto"},[e("line",{x1:"21",y1:"10",x2:"3",y2:"10"}),e("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),e("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),e("line",{x1:"21",y1:"18",x2:"3",y2:"18"})])],-1),Z=["onClick"],ee=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x block mx-auto"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1),te=[ee],oe={class:"mx-2 font-bold"},se=["onUpdate:modelValue"],ne={value:"adress"},ie={value:"phone"},ae={value:"telegram"},le={value:"whatsapp"},de={value:"facebook"},re={value:"linkedin"},ce={value:"twitter"},pe={value:"instagram"},he={value:"aparat"},me={value:"email"},ge=e("br",null,null,-1),ue={class:"mx-2 font-bold"},_e=["onUpdate:modelValue"],fe=e("br",null,null,-1),be={class:"mx-2 font-bold"},ye=["onUpdate:modelValue"],ve=e("br",null,null,-1),ke={class:"mx-2 font-bold"},we=["onUpdate:modelValue"],xe={id:"meta-title",role:"tabpanel",class:"tab-pane p-5"},$e=e("hr",{class:"my-4"},null,-1),Ce={for:"desc"},Ve=["placeholder"],De=e("hr",{class:"my-4"},null,-1),Ue={class:"bg-white mt-1 p-3 rounded"},Ee={class:"flex content-between"},je=e("i",{class:"cursor-pointer handle"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-align-justify block mx-auto"},[e("line",{x1:"21",y1:"10",x2:"3",y2:"10"}),e("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),e("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),e("line",{x1:"21",y1:"18",x2:"3",y2:"18"})])],-1),He=["onClick"],Te=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x block mx-auto"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1),Be=[Te],Fe={class:"mx-2 font-bold"},Ne=["onUpdate:modelValue"],Se={value:"adress"},Ae={value:"phone"},Me={value:"telegram"},Oe={value:"whatsapp"},Pe={value:"facebook"},Le={value:"linkedin"},Ie={value:"twitter"},Je={value:"instagram"},Qe={value:"aparat"},qe={value:"email"},ze=e("br",null,null,-1),Re={class:"mx-2 font-bold"},Ge=["onUpdate:modelValue"],Ke=e("br",null,null,-1),We={class:"mx-2 font-bold"},Xe=["onUpdate:modelValue"],Ye=e("br",null,null,-1),Ze={class:"mx-2 font-bold"},et=["onUpdate:modelValue"],tt={class:"intro-y col-span-12 lg:col-span-3 text-left"},ot={class:"box p-2 text-right mt-5"},st={class:"bg-light-2 p-2 font-bold rounded mb-2"},nt=["src"];function it(t,n,l,d,i,p){const $=b("header-admin"),y=b("QuillEditor"),v=b("draggable");return U(),E("div",B,[h($,{user:l.user,title:t.$t("edit")+" "+t.$t("page")+" "+t.$t("contact")},{default:u(()=>[r(e("button",{class:"btn border-0 btn-green",onClick:n[0]||(n[0]=s=>p.updatePage())},[e("span",null,o(t.$t("update")),1)],512),[[_,l.user.role.page.edit]])]),_:1},8,["user","title"]),r(e("div",F,[N,f(" "+o(t.$t("access-message")),1)],512),[[_,!l.user.role.page.edit]]),r(e("div",null,[e("div",S,[e("div",A,[e("div",M,[e("div",O,[e("a",{title:t.$t("body"),"data-toggle":"tab","data-target":"#content",href:"javascript:;",class:"tooltip w-full sm:w-40 py-4 text-center flex justify-center items-center active",id:"content-tab",role:"tab"},[L,f(" "+o(t.$t("persian")),1)],8,P),e("a",{title:t.$t("seo-tools"),"data-toggle":"tab","data-target":"#meta-title",href:"javascript:;",class:"tooltip w-full sm:w-40 py-4 text-center flex justify-center items-center",id:"meta-title-tab",role:"tab"},[J,f(" "+o(t.$t("english")),1)],8,I)]),e("div",Q,[e("div",q,[h(y,{content:i.page.text.fa,"onUpdate:content":n[1]||(n[1]=s=>i.page.text.fa=s),theme:"snow",toolbar:"full",ref:"myEditorFa"},null,8,["content"]),z,e("label",R,o(t.$t("descriptions")+" "+t.$t("seo")),1),e("span",{class:w(["mx-2 px-2 rounded-full bg-theme-21 text-xs text-white",i.page.seoDescription.fa.length<160?"bg-theme-":"bg-theme-20"])},o(i.page.seoDescription.fa.length),3),r(e("textarea",{id:"desc",class:"form-control mt-3",rows:"3",placeholder:t.$t("descriptions")+" "+t.$t("seo"),"onUpdate:modelValue":n[2]||(n[2]=s=>i.page.seoDescription.fa=s),maxlength:"170"},`
                            `,8,G),[[c,i.page.seoDescription.fa]]),K,e("button",{class:"btn btn-sm btn-dark font-bold mb-2",onClick:n[3]||(n[3]=s=>p.add("fa"))},o(t.$t("add")),1),h(v,{tag:"ul",list:i.page.element.fa,class:"list-group",handle:".handle","item-key":"name"},{item:u(({element:s,index:g})=>[e("li",W,[e("div",X,[Y,e("i",{class:"close cursor-pointer",onClick:a=>p.removeAt(g,"fa")},te,8,Z)]),e("label",oe,o(t.$t("icon")),1),r(e("select",{id:"","onUpdate:modelValue":a=>s.icon=a,class:"form-control mb-2"},[e("option",ne,o(t.$t("adress")),1),e("option",ie,o(t.$t("phone")),1),e("option",ae,o(t.$t("telegram")),1),e("option",le,o(t.$t("whatsapp")),1),e("option",de,o(t.$t("facebook")),1),e("option",re,o(t.$t("linkedin")),1),e("option",ce,o(t.$t("twitter")),1),e("option",pe,o(t.$t("instagram")),1),e("option",he,o(t.$t("aparat")),1),e("option",me,o(t.$t("email")),1)],8,se),[[x,s.icon]]),ge,e("label",ue,o(t.$t("color")),1),r(e("input",{type:"color",class:"form-control mb-2",style:{height:"50px"},"onUpdate:modelValue":a=>s.color=a},null,8,_e),[[c,s.color]]),fe,e("label",be,o(t.$t("title")),1),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a=>s.text=a},null,8,ye),[[c,s.text]]),ve,e("label",ke,o(t.$t("link")),1),r(e("input",{dir:"ltr",type:"text",class:"form-control","onUpdate:modelValue":a=>s.link=a},null,8,we),[[c,s.link]])])]),_:1},8,["list"])]),e("div",xe,[h(y,{content:i.page.text.en,"onUpdate:content":n[4]||(n[4]=s=>i.page.text.en=s),theme:"snow",toolbar:"full",ref:"myEditorEn"},null,8,["content"]),$e,e("label",Ce,o(t.$t("descriptions")+" "+t.$t("seo")),1),e("span",{class:w(["mx-2 px-2 rounded-full bg-theme-21 text-xs text-white",i.page.seoDescription.en.length<160?"bg-theme-":"bg-theme-20"])},o(i.page.seoDescription.en.length),3),r(e("textarea",{id:"desc",class:"form-control mt-3",rows:"3",placeholder:t.$t("descriptions")+" "+t.$t("seo"),"onUpdate:modelValue":n[5]||(n[5]=s=>i.page.seoDescription.en=s),maxlength:"170"},`
                                `,8,Ve),[[c,i.page.seoDescription.en]]),De,e("button",{class:"btn btn-sm btn-dark font-bold mb-2",onClick:n[6]||(n[6]=s=>p.add("en"))},o(t.$t("add")),1),h(v,{tag:"ul",list:i.page.element.en,class:"list-group",handle:".handle","item-key":"name"},{item:u(({element:s,index:g})=>[e("li",Ue,[e("div",Ee,[je,e("i",{class:"close cursor-pointer",onClick:a=>p.removeAt(g,"en")},Be,8,He)]),e("label",Fe,o(t.$t("icon")),1),r(e("select",{id:"","onUpdate:modelValue":a=>s.icon=a,class:"form-control mb-2"},[e("option",Se,o(t.$t("adress")),1),e("option",Ae,o(t.$t("phone")),1),e("option",Me,o(t.$t("telegram")),1),e("option",Oe,o(t.$t("whatsapp")),1),e("option",Pe,o(t.$t("facebook")),1),e("option",Le,o(t.$t("linkedin")),1),e("option",Ie,o(t.$t("twitter")),1),e("option",Je,o(t.$t("instagram")),1),e("option",Qe,o(t.$t("aparat")),1),e("option",qe,o(t.$t("email")),1)],8,Ne),[[x,s.icon]]),ze,e("label",Re,o(t.$t("color")),1),r(e("input",{type:"color",class:"form-control mb-2",style:{height:"50px"},"onUpdate:modelValue":a=>s.color=a},null,8,Ge),[[c,s.color]]),Ke,e("label",We,o(t.$t("title")),1),r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a=>s.text=a},null,8,Xe),[[c,s.text]]),Ye,e("label",Ze,o(t.$t("link")),1),r(e("input",{dir:"ltr",type:"text",class:"form-control","onUpdate:modelValue":a=>s.link=a},null,8,et),[[c,s.link]])])]),_:1},8,["list"])])])])]),e("div",tt,[e("div",ot,[e("p",st,o(t.$t("post-image")),1),e("img",{class:"rounded mb-2",src:i.page.image==null||i.page.image.name?"":i.page.image},null,8,nt),e("input",{type:"file",ref:"image",onChange:n[7]||(n[7]=(...s)=>p.onChangeImage&&p.onChangeImage(...s))},null,544)])])])],512),[[_,l.user.role.page.edit]])])}const ct=C(T,[["render",it]]);export{ct as default};
