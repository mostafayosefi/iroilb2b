import{_ as q,h as k,i as $,j as _,o as C,c as D,b as f,d as m,w as l,v as p,a as e,e as g,t as a,n as b,q as r,r as w}from"./app.c6c6a3cb.js";import{d as V}from"./vuedraggable.umd.16f25545.js";/* empty css                                                         */let x=0,y=0;const j={emits:["loadingHide","loading"],props:{loading:Boolean,user:Object},components:{"header-admin":k(()=>$(()=>import("./header-admin.6f180bbb.js"),["assets/header-admin.6f180bbb.js","assets/app.c6c6a3cb.js","assets/app.c39a63c1.css"])),draggable:V},data(){return{error:!1,faq:{id:4,image:"",fa:[],en:[],seoDescription:{fa:"",en:""}}}},methods:{removeAt(t,s){s=="fa"&&this.faq.fa.splice(t,1),s=="en"&&this.faq.en.splice(t,1)},add(t){t=="fa"&&(this.faq.fa.push({question:"",answer:"",id:x}),x++),t=="en"&&(this.faq.en.push({question:"",answer:"",id:y}),y++)},onChangeImage(){this.faq.image=this.$refs.image.files[0]},updatePage(){this.$emit("loading");let t=new FormData;t.append("api_token",this.$cookies.get("user").token),t.append("id",this.faq.id),t.append("images",this.faq.image),t.append("body_fa",JSON.stringify(this.faq.fa)),t.append("body_en",JSON.stringify(this.faq.en)),t.append("description_fa",this.faq.seoDescription.fa),t.append("description_en",this.faq.seoDescription.en),_.post("/page/special/update",t,{headers:{"Content-Type":"multipart/form-data"}}).then(s=>{s.data.status==200&&(this.$router.push({name:"adminPages"}),this.$emit("loadingHide"))}).catch(s=>{console.log("error",s),this.$emit("loadingHide")})}},created(){_.get("/page/special/"+this.faq.id,{params:{api_token:this.$cookies.get("user").token}}).then(t=>{this.faq.id=t.data.data.id,this.faq.fa=t.data.data.bodyFa?t.data.data.bodyFa:[],this.faq.en=t.data.data.bodyEn?t.data.data.bodyEn:[],t.data.data.images&&(this.faq.image=this.$hostname+"upload/page/"+t.data.data.images),this.faq.seoDescription.fa=t.data.data.seoDescriptionFa,this.faq.seoDescription.en=t.data.data.seoDescriptionEn,this.$emit("loadingHide")}).catch(t=>{this.$emit("loadingHide")})},watch:{$route:{immediate:!0,handler(t,s){document.title=this.$t("edit")+" "+this.$t("page")+" "+this.$t("faq")+" | "+this.$t("adminTitlePage")}}}},U={class:"content"},B={class:"alert alert-outline-danger alert-dismissible show flex items-center col-span-12 bg-white mt-2 font-bold",role:"alert"},E=e("i",{"data-feather":"alert-octagon",class:"w-6 h-6 ml-2"},null,-1),F={class:"pos intro-y grid grid-cols-12 gap-5 mt-5"},P={class:"intro-y col-span-12 lg:col-span-9"},A={class:"post intro-y overflow-hidden box mt-5"},H={class:"post__tabs nav nav-tabs flex-col sm:flex-row bg-gray-300 dark:bg-dark-2 text-gray-600",role:"tablist"},N=["title"],T=e("i",{class:"fi fi-ir ml-2"},null,-1),I=["title"],O=e("i",{class:"fi fi-us ml-2"},null,-1),S={class:"post__content tab-content"},J={id:"content",class:"tab-pane p-5 active",role:"tabpanel"},z={class:"bg-white mt-1 p-3 rounded"},L={class:"flex content-between"},M=e("i",{class:"cursor-pointer handle"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-align-justify block mx-auto"},[e("line",{x1:"21",y1:"10",x2:"3",y2:"10"}),e("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),e("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),e("line",{x1:"21",y1:"18",x2:"3",y2:"18"})])],-1),R=["onClick"],G=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x block mx-auto"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1),K=[G],Q={class:"mx-2 font-bold"},W=["onUpdate:modelValue"],X=e("br",null,null,-1),Y={class:"mx-2 font-bold"},Z=["onUpdate:modelValue"],ee=e("hr",{class:"my-4"},null,-1),te={for:"desc"},se=["placeholder"],oe={id:"meta-title",role:"tabpanel",class:"tab-pane p-5"},ae={class:"bg-white mt-1 p-3 rounded"},ie={class:"flex content-between"},ne=e("i",{class:"cursor-pointer handle"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-align-justify block mx-auto"},[e("line",{x1:"21",y1:"10",x2:"3",y2:"10"}),e("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),e("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),e("line",{x1:"21",y1:"18",x2:"3",y2:"18"})])],-1),le=["onClick"],de=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x block mx-auto"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1),re=[de],ce={class:"mx-2 font-bold"},he=["onUpdate:modelValue"],fe=e("br",null,null,-1),me={class:"mx-2 font-bold"},pe=["onUpdate:modelValue"],ge=e("hr",{class:"my-4"},null,-1),ue={for:"desc"},_e=["placeholder"],be={class:"intro-y col-span-12 lg:col-span-3 text-left"},we={class:"box p-2 text-right mt-5"},xe={class:"bg-light-2 p-2 font-bold rounded mb-2"},ye=["src"];function ve(t,s,c,qe,i,d){const v=w("header-admin"),u=w("draggable");return C(),D("div",U,[f(v,{user:c.user,title:t.$t("edit")+" "+t.$t("page")+" "+t.$t("faq")},{default:m(()=>[l(e("button",{class:"btn border-0 btn-green",onClick:s[0]||(s[0]=o=>d.updatePage())},[e("span",null,a(t.$t("update")),1)],512),[[p,c.user.role.page.edit]])]),_:1},8,["user","title"]),l(e("div",B,[E,g(" "+a(t.$t("access-message")),1)],512),[[p,!c.user.role.page.edit]]),l(e("div",F,[e("div",P,[e("div",A,[e("div",H,[e("a",{title:t.$t("body"),"data-toggle":"tab","data-target":"#content",href:"javascript:;",class:"tooltip w-full sm:w-40 py-4 text-center flex justify-center items-center active",id:"content-tab",role:"tab"},[T,g(" "+a(t.$t("persian")),1)],8,N),e("a",{title:t.$t("seo-tools"),"data-toggle":"tab","data-target":"#meta-title",href:"javascript:;",class:"tooltip w-full sm:w-40 py-4 text-center flex justify-center items-center",id:"meta-title-tab",role:"tab"},[O,g(" "+a(t.$t("english")),1)],8,I)]),e("div",S,[e("div",J,[e("button",{class:"btn btn-sm btn-dark font-bold mb-2",onClick:s[1]||(s[1]=o=>d.add("fa"))},a(t.$t("add")),1),f(u,{tag:"ul",list:i.faq.fa,class:"list-group",handle:".handle","item-key":"name"},{item:m(({element:o,index:h})=>[e("li",z,[e("div",L,[M,e("i",{class:"close cursor-pointer",onClick:n=>d.removeAt(h,"fa")},K,8,R)]),e("label",Q,a(t.$t("question")),1),l(e("input",{type:"text",class:"form-control mb-2","onUpdate:modelValue":n=>o.question=n},null,8,W),[[r,o.question]]),X,e("label",Y,a(t.$t("answer")),1),l(e("textarea",{"onUpdate:modelValue":n=>o.answer=n,class:"form-control mb-2"}," ",8,Z),[[r,o.answer]])])]),_:1},8,["list"]),ee,e("label",te,a(t.$t("descriptions")+" "+t.$t("seo")),1),e("span",{class:b(["mx-2 px-2 rounded-full bg-theme-21 text-xs text-white",i.faq.seoDescription.fa.length<160?"bg-theme-":"bg-theme-20"])},a(i.faq.seoDescription.fa.length),3),l(e("textarea",{id:"desc",class:"form-control mt-3",rows:"3",placeholder:t.$t("descriptions")+" "+t.$t("seo"),"onUpdate:modelValue":s[2]||(s[2]=o=>i.faq.seoDescription.fa=o),maxlength:"170"},`\r
                            `,8,se),[[r,i.faq.seoDescription.fa]])]),e("div",oe,[e("button",{class:"btn btn-sm btn-dark font-bold mb-2",onClick:s[3]||(s[3]=o=>d.add("en"))},a(t.$t("add")),1),f(u,{tag:"ul",list:i.faq.en,class:"list-group",handle:".handle","item-key":"name"},{item:m(({element:o,index:h})=>[e("li",ae,[e("div",ie,[ne,e("i",{class:"close cursor-pointer",onClick:n=>d.removeAt(h,"en")},re,8,le)]),e("label",ce,a(t.$t("question")),1),l(e("input",{type:"text",class:"form-control mb-2","onUpdate:modelValue":n=>o.question=n},null,8,he),[[r,o.question]]),fe,e("label",me,a(t.$t("answer")),1),l(e("textarea",{"onUpdate:modelValue":n=>o.answer=n,class:"form-control mb-2"}," ",8,pe),[[r,o.answer]])])]),_:1},8,["list"]),ge,e("label",ue,a(t.$t("descriptions")+" "+t.$t("seo")),1),e("span",{class:b(["mx-2 px-2 rounded-full bg-theme-21 text-xs text-white",i.faq.seoDescription.en.length<160?"bg-theme-":"bg-theme-20"])},a(i.faq.seoDescription.en.length),3),l(e("textarea",{id:"desc",class:"form-control mt-3",rows:"3",placeholder:t.$t("descriptions")+" "+t.$t("seo"),"onUpdate:modelValue":s[4]||(s[4]=o=>i.faq.seoDescription.en=o),maxlength:"170"},`\r
                            `,8,_e),[[r,i.faq.seoDescription.en]])])])])]),e("div",be,[e("div",we,[e("p",xe,a(t.$t("post-image")),1),e("img",{class:"rounded mb-2",src:i.faq.image==null||i.faq.image.name?"":i.faq.image},null,8,ye),e("input",{type:"file",ref:"image",onChange:s[5]||(s[5]=(...o)=>d.onChangeImage&&d.onChangeImage(...o))},null,544)])])],512),[[p,c.user.role.page.edit]])])}const De=q(j,[["render",ve]]);export{De as default};
