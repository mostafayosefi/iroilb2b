import{_ as w,h as k,i as v,V as p,j as u,o as l,c as n,b as m,w as i,v as r,a as t,e as $,t as d,d as y,r as g,l as h,m as C}from"./app.c6c6a3cb.js";const T={emits:["loadingHide","loading"],props:{loading:Boolean,user:Object},components:{"header-admin":k(()=>v(()=>import("./header-admin.6f180bbb.js"),["assets/header-admin.6f180bbb.js","assets/app.c6c6a3cb.js","assets/app.c39a63c1.css"])),VueGoodTable:p},data(){return{csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),loading:!0,columns:[{label:this.$t("name"),field:"title"},{label:this.$t("language"),field:"language"},{label:this.$t("last-update"),field:"time"},{label:this.$t("the-operation"),field:"after"}],tables:[]}},methods:{deleteTable(e){confirm(this.$t("delete-message"))&&(this.$emit("loading"),u.delete("/table/delete/"+e,{params:{api_token:this.$cookies.get("user").token}}).then(s=>{s.data=="successfully deleted"&&(this.tables=this.tables.filter(o=>o.id!=e),this.$emit("loadingHide"))}).catch(()=>{this.$emit("loadingHide")}))}},beforeCreate(){u.get("/table",{params:{api_token:this.$cookies.get("user").token}}).then(e=>{if(e.data!="null")for(const s of e.data)this.tables.push({id:s.id,title:s.title,language:s.language,time:s.time});this.$emit("loadingHide")}).catch(()=>{this.$emit("loadingHide")})},watch:{$route:{immediate:!0,handler(e,s){document.title=this.$t("tables")+" | "+this.$t("adminTitlePage")}}}},V={class:"content"},x={class:"alert alert-outline-danger alert-dismissible show flex items-center col-span-12 bg-white mt-2 font-bold",role:"alert"},H=t("i",{"data-feather":"alert-octagon",class:"w-6 h-6 ml-2"},null,-1),B={class:"box intro-y"},L={key:0},M={key:1},P={key:2},j={key:3},E=["href"],N=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-download w-4 h-4"},[t("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t("polyline",{points:"7 10 12 15 17 10"}),t("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1),A=[N],D=["href"],S=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-edit w-4 h-4"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1),O=[S],q=["onClick"],z=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-trash w-4 h-4"},[t("polyline",{points:"3 6 5 6 21 6"}),t("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),G=[z];function I(e,s,o,R,c,b){const f=g("header-admin"),_=g("vue-good-table");return l(),n("div",V,[m(f,{user:o.user,title:e.$t("tables"),element:!!o.user.role.table.add,elementText:e.$t("add"),linkElement:!0,link:"adminTablesMaker"},null,8,["user","title","element","elementText"]),i(t("div",x,[H,$(" "+d(e.$t("access-message")),1)],512),[[r,!o.user.role.table.show]]),i(t("div",B,[m(_,{class:"p-2",columns:c.columns,rows:c.tables,rtl:!0,theme:"polar-bear","line-numbers":!0,"fixed-header":!0,"pagination-options":{enabled:!0,mode:"records",perPage:10,nextLabel:e.$t("next"),prevLabel:e.$t("prev"),rowsPerPageLabel:"",ofLabel:e.$t("of"),allLabel:e.$t("all")},"search-options":{enabled:!0,placeholder:e.$t("search")}},{"table-row":y(a=>[a.column.field=="language"&&a.row.language=="en"?(l(),n("span",L,d(e.$t("english")),1)):h("",!0),a.column.field=="language"&&a.row.language=="fa"?(l(),n("span",M,d(e.$t("persian")),1)):h("",!0),a.column.field=="language"&&a.row.language=="all"?(l(),n("span",P,d(e.$t("all")),1)):h("",!0),a.column.field=="after"?(l(),n("span",j,[i(t("a",{target:"_blank",class:"btn btn-sm btn-outline-secondary m-1",href:e.$hostname+"fa/admin/tables/pdf/"+a.row.id},A,8,E),[[r,o.user.role.table.edit]]),i(t("a",{target:"_blank",class:"btn btn-sm btn-outline-dark m-1",href:e.$hostname+"fa/admin/tables/edit/"+a.row.id},O,8,D),[[r,o.user.role.table.edit]]),i(t("button",{onClick:C(F=>b.deleteTable(a.row.id),["prevent"]),class:"btn btn-sm btn-outline-danger m-1"},G,8,q),[[r,o.user.role.table.delete]])])):h("",!0)]),_:1},8,["columns","rows","pagination-options","search-options"])],512),[[r,o.user.role.table.show]])])}const K=w(T,[["render",I]]);export{K as default};
