import{_ as $,h as C,i as V,V as H,j as c,o as m,c as g,a as e,b as f,w as n,v as r,e as b,t as i,d as x,m as u,q as h,J as p,u as _,F as M,r as v,n as T,l as k}from"./app.c6c6a3cb.js";/* empty css                       */const B={emits:["loadingHide","loading"],props:{loading:Boolean,user:Object},components:{"header-admin":C(()=>V(()=>import("./header-admin.6f180bbb.js"),["assets/header-admin.6f180bbb.js","assets/app.c6c6a3cb.js","assets/app.c39a63c1.css"])),VueGoodTable:H},data(){return{csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),title:"",lang:"fa",sendLoad:!1,slug:"",content:"",columns:[{label:this.$t("name-label"),field:"title",tdClass:"tdrow"},{label:this.$t("the-operation"),field:"after"}],labels:[],error:!1,editLoad:!1,label:{id:"",title:"",link:"",lang:"",description:""}}},methods:{sanitizeTitle:function(l){var t="",a=l.toLowerCase();return t=a.replace(/e|é|è|ẽ|ẻ|ẹ|ê|ế|ề|ễ|ể|ệ/gi,"e"),t=t.replace(/a|á|à|ã|ả|ạ|ă|ắ|ằ|ẵ|ẳ|ặ|â|ấ|ầ|ẫ|ẩ|ậ/gi,"a"),t=t.replace(/o|ó|ò|õ|ỏ|ọ|ô|ố|ồ|ỗ|ổ|ộ|ơ|ớ|ờ|ỡ|ở|ợ/gi,"o"),t=t.replace(/u|ú|ù|ũ|ủ|ụ|ư|ứ|ừ|ữ|ử|ự/gi,"u"),t=t.replace(/đ/gi,"d"),t=t.replace(/\s*$/g,""),t=t.replace(/\s+/g,"-"),t=t.replace(/[`~!@#$%^&*()_؟|+\=?;:'",.،<>\{\}\[\]\\\/]/gi,""),this.slug=t,t},language(){return this.lang},addLabels(){const l={api_token:this.$cookies.get("user").token,title:this.title,slug:this.slug,text:this.content,lang:this.lang};this.title!=""?(this.sendLoad=!0,this.error=!1,c.post("/label/create",l).then(t=>{t.data=="success"&&(this.title="",this.lang="fa",this.content="",this.sendLoad=!1,setTimeout(()=>this.successState=!1,2e3),this.$refs.toggleButton.click(),this.getAll())}).catch(()=>{this.$emit("loadingHide")})):this.error=!0},deleteLabel(l){confirm(this.$t("delete-message"))&&(this.$emit("loading"),c.delete("/label/delete/"+l,{params:{api_token:this.$cookies.get("user").token}}).then(t=>{t.data=="successfully deleted"&&(this.labels=this.labels.filter(a=>a.id!=l),this.$emit("loadingHide"))}).catch(()=>{this.$emit("loadingHide")}))},editLabel(l){this.editLoad=!1,this.error=!1,this.$refs.editModal.click(),c.get("/label/"+l,{params:{api_token:this.$cookies.get("user").token}}).then(t=>{this.label.id=t.data.id,this.label.title=t.data.title,this.label.link=t.data.slug,this.label.lang=t.data.lang,this.label.description=t.data.description}).catch(()=>{this.$emit("loadingHide")})},updateLabel(l){if(this.label.title!=""&&this.label.link!=""){this.$emit("loading"),this.error=!1;const t={api_token:this.$cookies.get("user").token,label:this.label};c.put("/label/update/"+l,t).then(a=>{a.data=="successfully updated"&&(this.getAll(),this.$emit("loadingHide"))}).catch(()=>{this.$emit("loadingHide")})}else this.error=!0},getAll(){this.labels=[],c.get("/label",{params:{api_token:this.$cookies.get("user").token}}).then(l=>{for(const t of l.data.data)this.labels.push({id:t.id,title:t.title,link:t.slug,lang:t.lang});this.$emit("loadingHide")}).catch(()=>{this.$emit("loadingHide")})}},beforeCreate(){c.get("/label",{params:{api_token:this.$cookies.get("user").token}}).then(l=>{for(const t of l.data.data)this.labels.push({id:t.id,title:t.title,lang:t.lang,link:t.slug}),this.$emit("loadingHide")}).catch(()=>{this.$emit("loadingHide")})},name:"App",watch:{$route:{immediate:!0,handler(l,t){document.title=this.$t("labels")+" | "+this.$t("adminTitlePage")}}}},j={class:"content"},A={class:"alert alert-outline-danger alert-dismissible show flex items-center col-span-12 bg-white mt-2 font-bold",role:"alert"},S=e("i",{"data-feather":"alert-octagon",class:"w-6 h-6 ml-2"},null,-1),U={class:"box intro-y"},E={key:0},P={key:1},z=["href"],D=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-eye block w-4 h-4"},[e("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e("circle",{cx:"12",cy:"12",r:"3"})],-1),K=[D],N=["onClick"],q=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-edit w-4 h-4"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1),F=[q],O=["onClick"],G=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-trash w-4 h-4"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),I=[G],J={id:"header-footer-modal-preview",class:"modal",tabindex:"-1"},R={class:"modal-dialog modal-xl"},Q={class:"modal-content"},W={class:"modal-header"},X={class:"font-medium text-left ml-auto"},Y=["value"],Z={class:"modal-body grid grid-cols-12 gap-4 gap-y-3"},ee={class:"col-span-12 sm:col-span-12"},te=["placeholder"],le={for:"languge",class:"my-3"},se={value:"fa"},oe={value:"en"},ie={class:"text-left mt-2",dir:"ltr"},ne={class:"col-span-12 sm:col-span-12"},ae={for:"desc",class:"my-3"},de=["placeholder"],re={class:"modal-footer justify-end flex items-center"},ce={type:"button","data-dismiss":"modal",class:"btn btn-outline-secondary w-20 mx-4"},he=["disabled"],ue=e("i",{"data-loading-icon":"puff",class:"w-5 h-5"},null,-1),me=[ue],ge={href:"javascript:;","data-toggle":"modal",ref:"editModal","data-target":"#modaledit",class:"d-none"},be={id:"modaledit",class:"modal",tabindex:"-1"},pe={class:"modal-dialog modal-xl"},fe={class:"modal-content"},_e={class:"modal-header"},ve={class:"font-medium text-left ml-auto"},ke={class:"alert alert-outline-danger alert-dismissible show flex items-center col-span-12 mx-6",role:"alert"},we=e("i",{"data-feather":"alert-octagon",class:"w-6 h-6 ml-2"},null,-1),ye=["value"],Le={class:"modal-body grid grid-cols-12 gap-4 gap-y-3"},$e={class:"col-span-12 sm:col-span-12"},Ce={for:"title-edit"},Ve=["placeholder"],He={for:"link-edit"},xe={class:"input-group mb-2"},Me=["placeholder"],Te={id:"input-group-price",class:"input-group-text pb-0",dir:"ltr"},Be={for:"languge",class:"my-3"},je={value:"fa"},Ae={value:"en"},Se={class:"col-span-12 sm:col-span-12"},Ue={for:"des",class:"my-3"},Ee=["placeholder"],Pe={class:"modal-footer justify-end flex items-center"},ze=e("i",{"data-loading-icon":"puff",class:"w-5"},null,-1),De=[ze],Ke={id:"basic-non-sticky-notification-content",class:"toastify-content hidden flex flex-col sm:flex-row"},Ne={class:"font-medium"},qe={id:"basic-non-sticky-notification-toggle",ref:"toggleButton",class:"d-none"};function Fe(l,t,a,Oe,s,d){const w=v("header-admin"),y=v("vue-good-table");return m(),g(M,null,[e("div",j,[f(w,{user:a.user,title:l.$t("labels"),element:a.user.role.label.add,elementText:l.$t("add")},null,8,["user","title","element","elementText"]),n(e("div",A,[S,b(" "+i(l.$t("access-message")),1)],512),[[r,!a.user.role.label.show]]),n(e("div",U,[f(y,{class:"p-2",columns:s.columns,rows:s.labels,rtl:!0,theme:"polar-bear","line-numbers":!0,"fixed-header":!0,"pagination-options":{enabled:!0,mode:"records",perPage:10,nextLabel:l.$t("next"),prevLabel:l.$t("prev"),rowsPerPageLabel:"",ofLabel:l.$t("of"),allLabel:l.$t("all")},"search-options":{enabled:!0,placeholder:l.$t("search")}},{"table-row":x(o=>[o.column.field=="title"?(m(),g("span",E,[e("span",{class:T(["fi float-right ml-2",o.row.lang=="fa"?"fi-ir":"fi-us"])},null,2),b(" "+i(o.row.title),1)])):k("",!0),o.column.field=="after"?(m(),g("span",P,[e("a",{target:"_blank",class:"btn btn-sm btn-outline-primary m-1",href:l.$hostname+o.row.lang+"/tag/"+o.row.link},K,8,z),n(e("button",{onClick:u(L=>d.editLabel(o.row.id),["prevent"]),class:"btn btn-sm btn-outline-dark m-1"},F,8,N),[[r,a.user.role.label.edit]]),n(e("button",{onClick:u(L=>d.deleteLabel(o.row.id),["prevent"]),class:"btn btn-sm btn-outline-danger m-1"},I,8,O),[[r,a.user.role.label.delete]])])):k("",!0)]),_:1},8,["columns","rows","pagination-options","search-options"])],512),[[r,a.user.role.label.show]])]),e("div",J,[e("div",R,[e("div",Q,[e("div",W,[e("h2",X,i(l.$t("add-new-labels")),1)]),e("form",{onSubmit:t[5]||(t[5]=u(()=>{},["prevent"]))},[e("input",{type:"hidden",name:"_token",value:s.csrf},null,8,Y),e("div",Z,[e("div",ee,[n(e("input",{onKeyup:t[0]||(t[0]=p(o=>d.addLabels(),["enter"])),type:"text",class:"form-control mb-1",placeholder:l.$t("name-labels"),"onUpdate:modelValue":t[1]||(t[1]=o=>s.title=o)},null,40,te),[[h,s.title]]),e("label",le,i(l.$t("language")),1),n(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.lang=o),id:"languge",class:"form-control mt-2"},[e("option",se,i(l.$t("persian")),1),e("option",oe,i(l.$t("english")),1)],512),[[_,s.lang]]),e("p",ie,i(l.$hostname+d.language()+"/tag/"+d.sanitizeTitle(s.title)),1)]),e("div",ne,[e("label",ae,i(l.$t("descriptions")),1),n(e("textarea",{id:"desc",class:"form-control",rows:"5",placeholder:l.$t("descriptions"),"onUpdate:modelValue":t[3]||(t[3]=o=>s.content=o)},`\r
                            `,8,de),[[h,s.content]])])]),e("div",re,[e("button",ce,i(l.$t("cancel")),1),e("button",{type:"button",onClick:t[4]||(t[4]=o=>d.addLabels()),class:"btn btn-success w-20",disabled:s.title.length<=0},[n(e("div",null,i(l.$t("send")),513),[[r,!s.sendLoad]]),n(e("div",null,me,512),[[r,s.sendLoad]])],8,he)])],32)])])]),e("a",ge,null,512),e("div",be,[e("div",pe,[e("div",fe,[e("div",_e,[e("h2",ve,i(l.$t("add-new-labels")),1)]),e("form",{onSubmit:t[14]||(t[14]=u(()=>{},["prevent"]))},[n(e("div",ke,[we,b(" "+i(l.$t("error-empty-fields")),1)],512),[[r,s.error]]),e("input",{type:"hidden",name:"_token",value:s.csrf},null,8,ye),e("div",Le,[e("div",$e,[e("label",Ce,i(l.$t("name-label")),1),n(e("input",{onKeyup:t[6]||(t[6]=p(o=>d.updateLabel(s.label.id),["enter"])),type:"text",id:"title-edit",class:"form-control mb-2",placeholder:l.$t("name-labels"),"onUpdate:modelValue":t[7]||(t[7]=o=>s.label.title=o)},null,40,Ve),[[h,s.label.title]]),e("label",He,i(l.$t("link")),1),e("div",xe,[n(e("input",{dir:"ltr",id:"link-edit",onKeyup:t[8]||(t[8]=p(o=>d.updateLabel(s.label.id),["enter"])),type:"text",class:"form-control text-left",placeholder:l.$t("name-labels"),"onUpdate:modelValue":t[9]||(t[9]=o=>s.label.link=o)},null,40,Me),[[h,s.label.link]]),e("div",Te,i(l.$hostname+s.label.lang+"/tag/"),1)]),e("label",Be,i(l.$t("language")),1),n(e("select",{"onUpdate:modelValue":t[10]||(t[10]=o=>s.label.lang=o),id:"languge",class:"form-control mt-2"},[e("option",je,i(l.$t("persian")),1),e("option",Ae,i(l.$t("english")),1)],512),[[_,s.label.lang]])]),e("div",Se,[e("label",Ue,i(l.$t("descriptions")),1),n(e("textarea",{id:"des",class:"form-control",rows:"5",placeholder:l.$t("descriptions"),"onUpdate:modelValue":t[11]||(t[11]=o=>s.label.description=o)},`\r
                            `,8,Ee),[[h,s.label.description]])])]),e("div",Pe,[e("button",{ref:"closeEditModal",onClick:t[12]||(t[12]=o=>{s.label.title="",s.label.lang="",s.label.link="",s.label.id="",s.label.description=""}),type:"button","data-dismiss":"modal",class:"btn btn-outline-secondary w-20 mx-4"},i(l.$t("cancel")),513),e("button",{type:"button",onClick:t[13]||(t[13]=o=>d.updateLabel(s.label.id)),class:"btn btn-success w-20"},[n(e("div",null,i(l.$t("edit")),513),[[r,!s.editLoad]]),n(e("div",null,De,512),[[r,s.editLoad]])])])],32)])])]),e("div",Ke,[e("div",Ne,i(l.$t("add-success-message")),1)]),e("button",qe,null,512)],64)}const Je=$(B,[["render",Fe]]);export{Je as default};
