import{o as K,c as N,a as M,l as T,s as je,m as Ue,n as C,F as fe,k as he,I as U,J as Je,e as fa,t as oe,K as Z,L as ge,D as H,M as h,E as x,H as Le,B as Qe}from"./app.c6c6a3cb.js";function ae(e){return[null,void 0].indexOf(e)!==-1}function pa(e,i,l){const{object:o,valueProp:n,mode:m}=Z(e),t=ge().proxy,v=l.iv,q=b=>{v.value=c(b);const D=p(b);i.emit("change",D,t),i.emit("input",D),i.emit("update:modelValue",D)},p=b=>o.value||ae(b)?b:Array.isArray(b)?b.map(D=>D[n.value]):b[n.value],c=b=>ae(b)?m.value==="single"?{}:[]:b;return{update:q}}function ha(e,i){const{value:l,modelValue:o,mode:n,valueProp:m}=Z(e),t=H(n.value!=="single"?[]:{}),v=o&&o.value!==void 0?o:l,q=h(()=>n.value==="single"?t.value[m.value]:t.value.map(c=>c[m.value])),p=h(()=>n.value!=="single"?t.value.map(c=>c[m.value]).join(","):t.value[m.value]);return{iv:t,internalValue:t,ev:v,externalValue:v,textValue:p,plainValue:q}}function ga(e,i,l){const{regex:o}=Z(e),n=ge().proxy,m=l.isOpen,t=l.open,v=H(null),q=H(null),p=()=>{v.value=""},c=S=>{v.value=S.target.value},b=S=>{if(o&&o.value){let k=o.value;typeof k=="string"&&(k=new RegExp(k)),S.key.match(k)||S.preventDefault()}},D=S=>{if(o&&o.value){let V=(S.clipboardData||window.clipboardData).getData("Text"),d=o.value;typeof d=="string"&&(d=new RegExp(d)),V.split("").every(R=>!!R.match(d))||S.preventDefault()}i.emit("paste",S,n)};return x(v,S=>{!m.value&&S&&t(),i.emit("search-change",S,n)}),{search:v,input:q,clearSearch:p,handleSearchInput:c,handleKeypress:b,handlePaste:D}}function ba(e,i,l){const{groupSelect:o,mode:n,groups:m,disabledProp:t}=Z(e),v=H(null),q=c=>{c===void 0||c!==null&&c[t.value]||m.value&&c&&c.group&&(n.value==="single"||!o.value)||(v.value=c)};return{pointer:v,setPointer:q,clearPointer:()=>{q(null)}}}function Se(e,i=!0){return i?String(e).toLowerCase().trim():String(e).normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().trim()}function ma(e){return Object.prototype.toString.call(e)==="[object Object]"}function ya(e,i){const l=i.slice().sort();return e.length===i.length&&e.slice().sort().every(function(o,n){return o===l[n]})}function Oa(e,i,l){const{options:o,mode:n,trackBy:m,limit:t,hideSelected:v,createTag:q,createOption:p,label:c,appendNewTag:b,appendNewOption:D,multipleLabel:S,object:k,loading:V,delay:d,resolveOnLoad:R,minChars:r,filterResults:I,clearOnSearch:F,clearOnSelect:B,valueProp:g,canDeselect:J,max:w,strict:X,closeOnSelect:Q,groups:_,reverse:f,infinite:E,groupOptions:z,groupHideEmpty:le,groupSelect:be,onCreate:ce,disabledProp:L,searchStart:W}=Z(e),A=ge().proxy,y=l.iv,$=l.ev,j=l.search,ie=l.clearSearch,s=l.update,P=l.pointer,Y=l.clearPointer,ke=l.focus,Ye=l.deactivate,we=l.close,Pe=H([]),te=H([]),ee=H(!1),Te=H(null),qe=H(E.value&&t.value===-1?10:t.value),Ve=h(()=>q.value||p.value||!1),Ze=h(()=>b.value!==void 0?b.value:D.value!==void 0?D.value:!0),ue=h(()=>{if(_.value){let a=te.value||[],u=[];return a.forEach(O=>{Me(O[z.value]).forEach(G=>{u.push(Object.assign({},G,O[L.value]?{[L.value]:!0}:{}))})}),u}else{let a=Me(te.value||[]);return Pe.value.length&&(a=a.concat(Pe.value)),a}}),Ge=h(()=>_.value?da((te.value||[]).map((a,u)=>{const O=Me(a[z.value]);return{...a,index:u,group:!0,[z.value]:Ae(O,!1).map(G=>Object.assign({},G,a[L.value]?{[L.value]:!0}:{})),__VISIBLE__:Ae(O).map(G=>Object.assign({},G,a[L.value]?{[L.value]:!0}:{}))}})):[]),Ke=h(()=>{let a=ue.value;return f.value&&(a=a.reverse()),Ce.value.length&&(a=Ce.value.concat(a)),Ae(a)}),pe=h(()=>{let a=Ke.value;return qe.value>0&&(a=a.slice(0,qe.value)),a}),Ie=h(()=>{switch(n.value){case"single":return!ae(y.value[g.value]);case"multiple":case"tags":return!ae(y.value)&&y.value.length>0}}),$e=h(()=>S!==void 0&&S.value!==void 0?S.value(y.value,A):y.value&&y.value.length>1?`${y.value.length} options selected`:"1 option selected"),xe=h(()=>!ue.value.length&&!ee.value&&!Ce.value.length),_e=h(()=>ue.value.length>0&&pe.value.length==0&&(j.value&&_.value||!_.value)),Ce=h(()=>Ve.value===!1||!j.value?[]:ia(j.value)!==-1?[]:[{[g.value]:j.value,[c.value]:j.value,[ne.value]:j.value,__CREATE__:!0}]),ne=h(()=>m.value||c.value),ea=h(()=>{switch(n.value){case"single":return null;case"multiple":case"tags":return[]}}),aa=h(()=>V.value||ee.value),de=a=>{switch(typeof a!="object"&&(a=se(a)),n.value){case"single":s(a);break;case"multiple":case"tags":s(y.value.concat(a));break}i.emit("select",Ne(a),a,A)},ve=a=>{switch(typeof a!="object"&&(a=se(a)),n.value){case"single":Fe();break;case"tags":case"multiple":s(Array.isArray(a)?y.value.filter(u=>a.map(O=>O[g.value]).indexOf(u[g.value])===-1):y.value.filter(u=>u[g.value]!=a[g.value]));break}i.emit("deselect",Ne(a),a,A)},Ne=a=>k.value?a:a[g.value],He=a=>{ve(a)},la=(a,u)=>{if(u.button!==0){u.preventDefault();return}He(a)},Fe=()=>{i.emit("clear",A),s(ea.value)},re=a=>{if(a.group!==void 0)return n.value==="single"?!1:ra(a[z.value])&&a[z.value].length;switch(n.value){case"single":return!ae(y.value)&&y.value[g.value]==a[g.value];case"tags":case"multiple":return!ae(y.value)&&y.value.map(u=>u[g.value]).indexOf(a[g.value])!==-1}},Ee=a=>a[L.value]===!0,De=()=>w===void 0||w.value===-1||!Ie.value&&w.value>0?!1:y.value.length>=w.value,ta=a=>{if(!Ee(a)){if(ce&&ce.value&&!re(a)&&a.__CREATE__&&(a={...a},delete a.__CREATE__,a=ce.value(a,A),a instanceof Promise)){ee.value=!0,a.then(u=>{ee.value=!1,We(u)});return}We(a)}},We=a=>{switch(a.__CREATE__&&(a={...a},delete a.__CREATE__),n.value){case"single":if(a&&re(a)){J.value&&ve(a);return}a&&Be(a),B.value&&ie(),Q.value&&(Y(),we()),a&&de(a);break;case"multiple":if(a&&re(a)){ve(a);return}if(De())return;a&&(Be(a),de(a)),B.value&&ie(),v.value&&Y(),Q.value&&we();break;case"tags":if(a&&re(a)){ve(a);return}if(De())return;a&&Be(a),B.value&&ie(),a&&de(a),v.value&&Y(),Q.value&&we();break}Q.value||ke()},na=a=>{if(!(Ee(a)||n.value==="single"||!be.value)){switch(n.value){case"multiple":case"tags":ua(a[z.value])?ve(a[z.value]):de(a[z.value].filter(u=>y.value.map(O=>O[g.value]).indexOf(u[g.value])===-1).filter(u=>!u[L.value]).filter((u,O)=>y.value.length+1+O<=w.value||w.value===-1));break}Q.value&&Ye()}},Be=a=>{se(a[g.value])===void 0&&Ve.value&&(i.emit("tag",a[g.value],A),i.emit("option",a[g.value],A),Ze.value&&ca(a),ie())},sa=()=>{n.value!=="single"&&de(pe.value)},ua=a=>a.find(u=>!re(u)&&!u[L.value])===void 0,ra=a=>a.find(u=>!re(u))===void 0,se=a=>ue.value[ue.value.map(u=>String(u[g.value])).indexOf(String(a))],ia=(a,u=!0)=>ue.value.map(O=>parseInt(O[ne.value])==O[ne.value]?parseInt(O[ne.value]):O[ne.value]).indexOf(parseInt(a)==a?parseInt(a):a),oa=a=>["tags","multiple"].indexOf(n.value)!==-1&&v.value&&re(a),ca=a=>{Pe.value.push(a)},da=a=>le.value?a.filter(u=>j.value?u.__VISIBLE__.length:u[z.value].length):a.filter(u=>j.value?u.__VISIBLE__.length:!0),Ae=(a,u=!0)=>{let O=a;return j.value&&I.value&&(O=O.filter(G=>W.value?Se(G[ne.value],X.value).startsWith(Se(j.value,X.value)):Se(G[ne.value],X.value).indexOf(Se(j.value,X.value))!==-1)),v.value&&u&&(O=O.filter(G=>!oa(G))),O},Me=a=>{let u=a;return ma(u)&&(u=Object.keys(u).map(O=>{let G=u[O];return{[g.value]:O,[ne.value]:G,[c.value]:G}})),u=u.map(O=>typeof O=="object"?O:{[g.value]:O,[ne.value]:O,[c.value]:O}),u},me=()=>{ae($.value)||(y.value=Oe($.value))},ye=a=>(ee.value=!0,new Promise((u,O)=>{o.value(j.value,A).then(G=>{te.value=G||[],typeof a=="function"&&a(G),ee.value=!1}).catch(G=>{console.error(G),te.value=[],ee.value=!1}).finally(()=>{u()})})),Re=()=>{if(!!Ie.value)if(n.value==="single"){let a=se(y.value[g.value]);if(a!==void 0){let u=a[c.value];y.value[c.value]=u,k.value&&($.value[c.value]=u)}}else y.value.forEach((a,u)=>{let O=se(y.value[u][g.value]);if(O!==void 0){let G=O[c.value];y.value[u][c.value]=G,k.value&&($.value[u][c.value]=G)}})},va=a=>{ye(a)},Oe=a=>ae(a)?n.value==="single"?{}:[]:k.value?a:n.value==="single"?se(a)||{}:a.filter(u=>!!se(u)).map(u=>se(u)),ze=()=>{Te.value=x(j,a=>{a.length<r.value||!a&&r.value!==0||(ee.value=!0,F.value&&(te.value=[]),setTimeout(()=>{a==j.value&&o.value(j.value,A).then(u=>{(a==j.value||!j.value)&&(te.value=u,P.value=pe.value.filter(O=>O[L.value]!==!0)[0]||null,ee.value=!1)}).catch(u=>{console.error(u)})},d.value))},{flush:"sync"})};if(n.value!=="single"&&!ae($.value)&&!Array.isArray($.value))throw new Error(`v-model must be an array when using "${n.value}" mode`);return o&&typeof o.value=="function"?R.value?ye(me):k.value==!0&&me():(te.value=o.value,me()),d.value>-1&&ze(),x(d,(a,u)=>{Te.value&&Te.value(),a>=0&&ze()}),x($,a=>{if(ae(a)){y.value=Oe(a);return}switch(n.value){case"single":(k.value?a[g.value]!=y.value[g.value]:a!=y.value[g.value])&&(y.value=Oe(a));break;case"multiple":case"tags":ya(k.value?a.map(u=>u[g.value]):a,y.value.map(u=>u[g.value]))||(y.value=Oe(a));break}},{deep:!0}),x(o,(a,u)=>{typeof e.options=="function"?R.value&&(!u||a&&a.toString()!==u.toString())&&ye():(te.value=e.options,Object.keys(y.value).length||me(),Re())}),x(c,Re),{pfo:Ke,fo:pe,filteredOptions:pe,hasSelected:Ie,multipleLabelText:$e,eo:ue,extendedOptions:ue,fg:Ge,filteredGroups:Ge,noOptions:xe,noResults:_e,resolving:ee,busy:aa,offset:qe,select:de,deselect:ve,remove:He,selectAll:sa,clear:Fe,isSelected:re,isDisabled:Ee,isMax:De,getOption:se,handleOptionClick:ta,handleGroupClick:na,handleTagRemove:la,refreshOptions:va,resolveOptions:ye,refreshLabels:Re}}function Sa(e,i,l){const{valueProp:o,showOptions:n,searchable:m,groupLabel:t,groups:v,mode:q,groupSelect:p,disabledProp:c}=Z(e),b=l.fo,D=l.fg,S=l.handleOptionClick,k=l.handleGroupClick,V=l.search,d=l.pointer,R=l.setPointer,r=l.clearPointer,I=l.multiselect,F=l.isOpen,B=h(()=>b.value.filter(s=>!s[c.value])),g=h(()=>D.value.filter(s=>!s[c.value])),J=h(()=>q.value!=="single"&&p.value),w=h(()=>d.value&&d.value.group),X=h(()=>j(d.value)),Q=h(()=>{const s=w.value?d.value:j(d.value),P=g.value.map(ke=>ke[t.value]).indexOf(s[t.value]);let Y=g.value[P-1];return Y===void 0&&(Y=f.value),Y}),_=h(()=>{let s=g.value.map(P=>P.label).indexOf(w.value?d.value[t.value]:j(d.value)[t.value])+1;return g.value.length<=s&&(s=0),g.value[s]}),f=h(()=>[...g.value].slice(-1)[0]),E=h(()=>d.value.__VISIBLE__.filter(s=>!s[c.value])[0]),z=h(()=>{const s=X.value.__VISIBLE__.filter(P=>!P[c.value]);return s[s.map(P=>P[o.value]).indexOf(d.value[o.value])-1]}),le=h(()=>{const s=j(d.value).__VISIBLE__.filter(P=>!P[c.value]);return s[s.map(P=>P[o.value]).indexOf(d.value[o.value])+1]}),be=h(()=>[...Q.value.__VISIBLE__.filter(s=>!s[c.value])].slice(-1)[0]),ce=h(()=>[...f.value.__VISIBLE__.filter(s=>!s[c.value])].slice(-1)[0]),L=s=>!!d.value&&(!s.group&&d.value[o.value]==s[o.value]||s.group!==void 0&&d.value[t.value]==s[t.value])?!0:void 0,W=()=>{R(B.value[0]||null)},A=()=>{!d.value||d.value[c.value]===!0||(w.value?k(d.value):S(d.value))},y=()=>{if(d.value===null)R((v.value&&J.value?g.value[0]:B.value[0])||null);else if(v.value&&J.value){let s=w.value?E.value:le.value;s===void 0&&(s=_.value),R(s||null)}else{let s=B.value.map(P=>P[o.value]).indexOf(d.value[o.value])+1;B.value.length<=s&&(s=0),R(B.value[s]||null)}Le(()=>{ie()})},$=()=>{if(d.value===null){let s=B.value[B.value.length-1];v.value&&J.value&&(s=ce.value,s===void 0&&(s=f.value)),R(s||null)}else if(v.value&&J.value){let s=w.value?be.value:z.value;s===void 0&&(s=w.value?Q.value:X.value),R(s||null)}else{let s=B.value.map(P=>P[o.value]).indexOf(d.value[o.value])-1;s<0&&(s=B.value.length-1),R(B.value[s]||null)}Le(()=>{ie()})},j=s=>g.value.find(P=>P.__VISIBLE__.map(Y=>Y[o.value]).indexOf(s[o.value])!==-1),ie=()=>{let s=I.value.querySelector("[data-pointed]");if(!s)return;let P=s.parentElement.parentElement;v.value&&(P=w.value?s.parentElement.parentElement.parentElement:s.parentElement.parentElement.parentElement.parentElement),s.offsetTop+s.offsetHeight>P.clientHeight+P.scrollTop&&(P.scrollTop=s.offsetTop+s.offsetHeight-P.clientHeight),s.offsetTop<P.scrollTop&&(P.scrollTop=s.offsetTop)};return x(V,s=>{m.value&&(s.length&&n.value?W():r())}),x(F,s=>{if(s){let P=I.value.querySelectorAll("[data-selected]")[0];if(!P)return;let Y=P.parentElement.parentElement;Le(()=>{Y.scrollTop>0||(Y.scrollTop=P.offsetTop)})}}),{pointer:d,canPointGroups:J,isPointed:L,setPointerFirst:W,selectPointer:A,forwardPointer:y,backwardPointer:$}}function La(e,i,l){const{disabled:o}=Z(e),n=ge().proxy,m=H(!1);return{isOpen:m,open:()=>{m.value||o.value||(m.value=!0,i.emit("open",n))},close:()=>{!m.value||(m.value=!1,i.emit("close",n))}}}function ka(e,i,l){const{searchable:o,disabled:n}=Z(e),m=l.input,t=l.open,v=l.close,q=l.clearSearch,p=l.isOpen,c=H(null),b=H(null),D=H(null),S=H(!1),k=H(!1),V=h(()=>o.value||n.value?-1:0),d=()=>{o.value&&m.value.blur(),b.value.blur()},R=()=>{o.value&&!n.value&&m.value.focus()},r=(w=!0)=>{n.value||(S.value=!0,w&&t())},I=()=>{S.value=!1,setTimeout(()=>{S.value||(v(),q())},1)};return{multiselect:c,wrapper:b,tags:D,tabindex:V,isActive:S,mouseClicked:k,blur:d,focus:R,activate:r,deactivate:I,handleFocusIn:w=>{w.target.closest("[data-tags]")||w.target.closest("[data-clear]")||r(k.value)},handleFocusOut:()=>{I()},handleCaretClick:()=>{I(),d()},handleMousedown:w=>{k.value=!0,p.value&&(w.target.isEqualNode(b.value)||w.target.isEqualNode(D.value))?setTimeout(()=>{I()},0):document.activeElement.isEqualNode(b.value)&&!p.value&&(console.log(w.target.closest("[data-tags]")),r()),setTimeout(()=>{k.value=!1},0)}}}function wa(e,i,l){const{mode:o,addTagOn:n,openDirection:m,searchable:t,showOptions:v,valueProp:q,groups:p,addOptionOn:c,createTag:b,createOption:D,reverse:S}=Z(e),k=ge().proxy,V=l.iv,d=l.update,R=l.search,r=l.setPointer,I=l.selectPointer,F=l.backwardPointer,B=l.forwardPointer,g=l.multiselect,J=l.wrapper,w=l.tags,X=l.isOpen,Q=l.open,_=l.blur,f=l.fo,E=h(()=>b.value||D.value||!1),z=h(()=>n.value!==void 0?n.value:c.value!==void 0?c.value:["enter"]),le=()=>{o.value==="tags"&&!v.value&&E.value&&t.value&&!p.value&&r(f.value[f.value.map(L=>L[q.value]).indexOf(R.value)])};return{handleKeydown:L=>{i.emit("keydown",L,k);let W,A;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(L.key)!==-1&&o.value==="tags"&&(W=[...g.value.querySelectorAll("[data-tags] > *")].filter(y=>y!==w.value),A=W.findIndex(y=>y===document.activeElement)),L.key){case"Backspace":if(o.value==="single"||t.value&&[null,""].indexOf(R.value)===-1||V.value.length===0)return;d([...V.value].slice(0,-1));break;case"Enter":if(L.preventDefault(),L.keyCode===229)return;if(A!==-1&&A!==void 0){d([...V.value].filter((y,$)=>$!==A)),A===W.length-1&&(W.length-1?W[W.length-2].focus():t.value?w.value.querySelector("input").focus():J.value.focus());return}if(z.value.indexOf("enter")===-1&&E.value)return;le(),I();break;case" ":if(!E.value&&!t.value){L.preventDefault(),le(),I();return}if(!E.value)return!1;if(z.value.indexOf("space")===-1&&E.value)return;L.preventDefault(),le(),I();break;case"Tab":case";":case",":if(z.value.indexOf(L.key.toLowerCase())===-1||!E.value)return;le(),I(),L.preventDefault();break;case"Escape":_();break;case"ArrowUp":if(L.preventDefault(),!v.value)return;X.value||Q(),F();break;case"ArrowDown":if(L.preventDefault(),!v.value)return;X.value||Q(),B();break;case"ArrowLeft":if(t.value&&w.value&&w.value.querySelector("input").selectionStart||L.shiftKey||o.value!=="tags"||!V.value||!V.value.length)return;L.preventDefault(),A===-1?W[W.length-1].focus():A>0&&W[A-1].focus();break;case"ArrowRight":if(A===-1||L.shiftKey||o.value!=="tags"||!V.value||!V.value.length)return;L.preventDefault(),W.length>A+1?W[A+1].focus():t.value?w.value.querySelector("input").focus():t.value||J.value.focus();break}},handleKeyup:L=>{i.emit("keyup",L,k)},preparePointer:le}}function Pa(e,i,l){const{classes:o,disabled:n,openDirection:m,showOptions:t}=Z(e),v=l.isOpen,q=l.isPointed,p=l.isSelected,c=l.isDisabled,b=l.isActive,D=l.canPointGroups,S=l.resolving,k=l.fo,V=h(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...o.value})),d=h(()=>!!(v.value&&t.value&&(!S.value||S.value&&k.value.length)));return{classList:h(()=>{const r=V.value;return{container:[r.container].concat(n.value?r.containerDisabled:[]).concat(d.value&&m.value==="top"?r.containerOpenTop:[]).concat(d.value&&m.value!=="top"?r.containerOpen:[]).concat(b.value?r.containerActive:[]),wrapper:r.wrapper,spacer:r.spacer,singleLabel:r.singleLabel,singleLabelText:r.singleLabelText,multipleLabel:r.multipleLabel,search:r.search,tags:r.tags,tag:[r.tag].concat(n.value?r.tagDisabled:[]),tagRemove:r.tagRemove,tagRemoveIcon:r.tagRemoveIcon,tagsSearchWrapper:r.tagsSearchWrapper,tagsSearch:r.tagsSearch,tagsSearchCopy:r.tagsSearchCopy,placeholder:r.placeholder,caret:[r.caret].concat(v.value?r.caretOpen:[]),clear:r.clear,clearIcon:r.clearIcon,spinner:r.spinner,inifinite:r.inifinite,inifiniteSpinner:r.inifiniteSpinner,dropdown:[r.dropdown].concat(m.value==="top"?r.dropdownTop:[]).concat(!v.value||!t.value||!d.value?r.dropdownHidden:[]),options:[r.options].concat(m.value==="top"?r.optionsTop:[]),group:r.group,groupLabel:I=>{let F=[r.groupLabel];return q(I)?F.push(p(I)?r.groupLabelSelectedPointed:r.groupLabelPointed):p(I)&&D.value?F.push(c(I)?r.groupLabelSelectedDisabled:r.groupLabelSelected):c(I)&&F.push(r.groupLabelDisabled),D.value&&F.push(r.groupLabelPointable),F},groupOptions:r.groupOptions,option:(I,F)=>{let B=[r.option];return q(I)?B.push(p(I)?r.optionSelectedPointed:r.optionPointed):p(I)?B.push(c(I)?r.optionSelectedDisabled:r.optionSelected):(c(I)||F&&c(F))&&B.push(r.optionDisabled),B},noOptions:r.noOptions,noResults:r.noResults,assist:r.assist,fakeInput:r.fakeInput}}),showDropdown:d}}function Ta(e,i,l){const{limit:o,infinite:n}=Z(e),m=l.isOpen,t=l.offset,v=l.search,q=l.pfo,p=l.eo,c=H(null),b=H(null),D=h(()=>t.value<q.value.length),S=V=>{const{isIntersecting:d,target:R}=V[0];if(d){const r=R.offsetParent,I=r.scrollTop;t.value+=o.value==-1?10:o.value,Le(()=>{r.scrollTop=I})}},k=()=>{m.value&&t.value<q.value.length?c.value.observe(b.value):!m.value&&c.value&&c.value.disconnect()};return x(m,()=>{!n.value||k()}),x(v,()=>{!n.value||(t.value=o.value,k())},{flush:"post"}),x(p,()=>{!n.value||k()},{immediate:!1,flush:"post"}),Qe(()=>{window&&window.IntersectionObserver&&(c.value=new IntersectionObserver(S))}),{hasMore:D,infiniteLoader:b}}function qa(e,i,l){const{placeholder:o,id:n,valueProp:m,label:t,mode:v,groupLabel:q,aria:p,searchable:c}=Z(e),b=l.pointer,D=l.iv,S=l.hasSelected,k=l.multipleLabelText,V=H(null),d=h(()=>{let f=[];return n&&n.value&&f.push(n.value),f.push("assist"),f.join("-")}),R=h(()=>{let f=[];return n&&n.value&&f.push(n.value),f.push("multiselect-options"),f.join("-")}),r=h(()=>{let f=[];if(n&&n.value&&f.push(n.value),b.value)return f.push(b.value.group?"multiselect-group":"multiselect-option"),f.push(b.value.group?b.value.index:b.value[m.value]),f.join("-")}),I=h(()=>o.value),F=h(()=>v.value!=="single"),B=h(()=>{let f="";return v.value==="single"&&S.value&&(f+=D.value[t.value]),v.value==="multiple"&&S.value&&(f+=k.value),v.value==="tags"&&S.value&&(f+=D.value.map(E=>E[t.value]).join(", ")),f}),g=h(()=>{let f={...p.value};return c.value&&(f["aria-labelledby"]=f["aria-labelledby"]?`${d.value} ${f["aria-labelledby"]}`:d.value,B.value&&f["aria-label"]&&(f["aria-label"]=`${B.value}, ${f["aria-label"]}`)),f}),J=f=>{let E=[];return n&&n.value&&E.push(n.value),E.push("multiselect-option"),E.push(f[m.value]),E.join("-")},w=f=>{let E=[];return n&&n.value&&E.push(n.value),E.push("multiselect-group"),E.push(f.index),E.join("-")},X=f=>{let E=[];return E.push(f[t.value]),E.join(" ")},Q=f=>{let E=[];return E.push(f[q.value]),E.join(" ")},_=f=>`${f} \u274E`;return Qe(()=>{if(n&&n.value&&document&&document.querySelector){let f=document.querySelector(`[for="${n.value}"]`);V.value=f?f.innerText:null}}),{arias:g,ariaLabel:B,ariaAssist:d,ariaControls:R,ariaPlaceholder:I,ariaMultiselectable:F,ariaActiveDescendant:r,ariaOptionId:J,ariaOptionLabel:X,ariaGroupId:w,ariaGroupLabel:Q,ariaTagLabel:_}}function Ia(e,i,l,o={}){return l.forEach(n=>{n&&(o={...o,...n(e,i,o)})}),o}var Xe={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})}},setup(e,i){return Ia(e,i,[ha,ba,La,ga,pa,ka,Oa,Ta,Sa,wa,Pa,qa])}};const Ca=["id","dir"],Ea=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],Da=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Ba=["onKeyup","aria-label"],Aa=["onClick"],Ma=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Ra=["innerHTML"],ja=["id"],Va=["id","aria-label","aria-selected"],Ga=["data-pointed","onMouseenter","onClick"],Ka=["innerHTML"],Na=["aria-label"],Ha=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Fa=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Wa=["innerHTML"],za=["innerHTML"],Ua=["value"],Ja=["name","value"],Qa=["name","value"],Xa=["id"];function Ya(e,i,l,o,n,m){return K(),N("div",{ref:"multiselect",class:C(e.classList.container),id:l.searchable?void 0:l.id,dir:l.rtl?"rtl":void 0,onFocusin:i[10]||(i[10]=(...t)=>e.handleFocusIn&&e.handleFocusIn(...t)),onFocusout:i[11]||(i[11]=(...t)=>e.handleFocusOut&&e.handleFocusOut(...t)),onKeyup:i[12]||(i[12]=(...t)=>e.handleKeyup&&e.handleKeyup(...t)),onKeydown:i[13]||(i[13]=(...t)=>e.handleKeydown&&e.handleKeydown(...t))},[M("div",je({class:e.classList.wrapper,onMousedown:i[9]||(i[9]=(...t)=>e.handleMousedown&&e.handleMousedown(...t)),ref:"wrapper",tabindex:e.tabindex,"aria-controls":l.searchable?void 0:e.ariaControls,"aria-placeholder":l.searchable?void 0:e.ariaPlaceholder,"aria-expanded":l.searchable?void 0:e.isOpen,"aria-activedescendant":l.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":l.searchable?void 0:e.ariaMultiselectable,role:l.searchable?void 0:"combobox"},l.searchable?{}:e.arias),[T(" Search "),l.mode!=="tags"&&l.searchable&&!l.disabled?(K(),N("input",je({key:0,type:l.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:l.autocomplete,id:l.searchable?l.id:void 0,onInput:i[0]||(i[0]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onKeypress:i[1]||(i[1]=(...t)=>e.handleKeypress&&e.handleKeypress(...t)),onPaste:i[2]||(i[2]=Ue((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...l.attrs,...e.arias}),null,16,Da)):T("v-if",!0),T(" Tags (with search) "),l.mode=="tags"?(K(),N("div",{key:1,class:C(e.classList.tags),"data-tags":""},[(K(!0),N(fe,null,he(e.iv,(t,v,q)=>U(e.$slots,"tag",{option:t,handleTagRemove:e.handleTagRemove,disabled:l.disabled},()=>[(K(),N("span",{class:C(e.classList.tag),tabindex:"-1",onKeyup:Je(p=>e.handleTagRemove(t,p),["enter"]),key:q,"aria-label":e.ariaTagLabel(t[l.label])},[fa(oe(t[l.label])+" ",1),l.disabled?T("v-if",!0):(K(),N("span",{key:0,class:C(e.classList.tagRemove),onClick:p=>e.handleTagRemove(t,p)},[M("span",{class:C(e.classList.tagRemoveIcon)},null,2)],10,Aa))],42,Ba))])),256)),M("div",{class:C(e.classList.tagsSearchWrapper),ref:"tags"},[T(" Used for measuring search width "),M("span",{class:C(e.classList.tagsSearchCopy)},oe(e.search),3),T(" Actual search input "),l.searchable&&!l.disabled?(K(),N("input",je({key:0,type:l.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:l.searchable?l.id:void 0,autocomplete:l.autocomplete,onInput:i[3]||(i[3]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onKeypress:i[4]||(i[4]=(...t)=>e.handleKeypress&&e.handleKeypress(...t)),onPaste:i[5]||(i[5]=Ue((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...l.attrs,...e.arias}),null,16,Ma)):T("v-if",!0)],2)],2)):T("v-if",!0),T(" Single label "),l.mode=="single"&&e.hasSelected&&!e.search&&e.iv?U(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[M("div",{class:C(e.classList.singleLabel)},[M("span",{class:C(e.classList.singleLabelText)},oe(e.iv[l.label]),3)],2)]):T("v-if",!0),T(" Multiple label "),l.mode=="multiple"&&e.hasSelected&&!e.search?U(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[M("div",{class:C(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,Ra)]):T("v-if",!0),T(" Placeholder "),l.placeholder&&!e.hasSelected&&!e.search?U(e.$slots,"placeholder",{key:4},()=>[M("div",{class:C(e.classList.placeholder),"aria-hidden":"true"},oe(l.placeholder),3)]):T("v-if",!0),T(" Spinner "),l.loading||e.resolving?U(e.$slots,"spinner",{key:5},()=>[M("span",{class:C(e.classList.spinner),"aria-hidden":"true"},null,2)]):T("v-if",!0),T(" Clear "),e.hasSelected&&!l.disabled&&l.canClear&&!e.busy?U(e.$slots,"clear",{key:6,clear:e.clear},()=>[M("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"\u274E",class:C(e.classList.clear),onClick:i[6]||(i[6]=(...t)=>e.clear&&e.clear(...t)),onKeyup:i[7]||(i[7]=Je((...t)=>e.clear&&e.clear(...t),["enter"]))},[M("span",{class:C(e.classList.clearIcon)},null,2)],34)]):T("v-if",!0),T(" Caret "),l.caret&&l.showOptions?U(e.$slots,"caret",{key:7},()=>[M("span",{class:C(e.classList.caret),onClick:i[8]||(i[8]=(...t)=>e.handleCaretClick&&e.handleCaretClick(...t)),"aria-hidden":"true"},null,2)]):T("v-if",!0)],16,Ea),T(" Options "),M("div",{class:C(e.classList.dropdown),tabindex:"-1"},[U(e.$slots,"beforelist",{options:e.fo}),M("ul",{class:C(e.classList.options),id:e.ariaControls,role:"listbox"},[l.groups?(K(!0),N(fe,{key:0},he(e.fg,(t,v,q)=>(K(),N("li",{class:C(e.classList.group),key:q,id:e.ariaGroupId(t),"aria-label":e.ariaGroupLabel(t),"aria-selected":e.isSelected(t),role:"option"},[M("div",{class:C(e.classList.groupLabel(t)),"data-pointed":e.isPointed(t),onMouseenter:p=>e.setPointer(t,v),onClick:p=>e.handleGroupClick(t)},[U(e.$slots,"grouplabel",{group:t,isSelected:e.isSelected,isPointed:e.isPointed},()=>[M("span",{innerHTML:t[l.groupLabel]},null,8,Ka)])],42,Ga),M("ul",{class:C(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(t),role:"group"},[(K(!0),N(fe,null,he(t.__VISIBLE__,(p,c,b)=>(K(),N("li",{class:C(e.classList.option(p,t)),"data-pointed":e.isPointed(p),"data-selected":e.isSelected(p)||void 0,key:b,onMouseenter:D=>e.setPointer(p),onClick:D=>e.handleOptionClick(p),id:e.ariaOptionId(p),"aria-selected":e.isSelected(p),"aria-label":e.ariaOptionLabel(p),role:"option"},[U(e.$slots,"option",{option:p,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[M("span",null,oe(p[l.label]),1)])],42,Ha))),128))],10,Na)],10,Va))),128)):(K(!0),N(fe,{key:1},he(e.fo,(t,v,q)=>(K(),N("li",{class:C(e.classList.option(t)),"data-pointed":e.isPointed(t),"data-selected":e.isSelected(t)||void 0,key:q,onMouseenter:p=>e.setPointer(t),onClick:p=>e.handleOptionClick(t),id:e.ariaOptionId(t),"aria-selected":e.isSelected(t),"aria-label":e.ariaOptionLabel(t),role:"option"},[U(e.$slots,"option",{option:t,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[M("span",null,oe(t[l.label]),1)])],42,Fa))),128))],10,ja),e.noOptions?U(e.$slots,"nooptions",{key:0},()=>[M("div",{class:C(e.classList.noOptions),innerHTML:l.noOptionsText},null,10,Wa)]):T("v-if",!0),e.noResults?U(e.$slots,"noresults",{key:1},()=>[M("div",{class:C(e.classList.noResults),innerHTML:l.noResultsText},null,10,za)]):T("v-if",!0),l.infinite&&e.hasMore?(K(),N("div",{key:2,class:C(e.classList.inifinite),ref:"infiniteLoader"},[U(e.$slots,"infinite",{},()=>[M("span",{class:C(e.classList.inifiniteSpinner)},null,2)])],2)):T("v-if",!0),U(e.$slots,"afterlist",{options:e.fo})],2),T(" Hacky input element to show HTML5 required warning "),l.required?(K(),N("input",{key:0,class:C(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,Ua)):T("v-if",!0),T(" Native input support "),l.nativeSupport?(K(),N(fe,{key:1},[l.mode=="single"?(K(),N("input",{key:0,type:"hidden",name:l.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,Ja)):(K(!0),N(fe,{key:1},he(e.plainValue,(t,v)=>(K(),N("input",{type:"hidden",name:`${l.name}[]`,value:t,key:v},null,8,Qa))),128))],64)):T("v-if",!0),T(" Screen reader assistive text "),l.searchable&&e.hasSelected?(K(),N("div",{key:2,class:C(e.classList.assist),id:e.ariaAssist,"aria-hidden":"true"},oe(e.ariaLabel),11,Xa)):T("v-if",!0),T(" Create height for empty input "),M("div",{class:C(e.classList.spacer)},null,2)],42,Ca)}Xe.render=Ya;Xe.__file="src/Multiselect.vue";export{Xe as s};
